/**
 * Knoux Clipboard AI - Application Constants
 * This file contains all constant values used throughout the application
 * Generated by Knoux — Abu Retaj
 * Clipboard Intelligence • Desktop Precision • Premium Engineering
 */

// Application Metadata
export const APP_NAME = 'Knoux Clipboard AI';
export const APP_VERSION = '1.0.0';
export const APP_DESCRIPTION = 'Your Clipboard... Finally Thinks.';
export const APP_AUTHOR = 'Knoux (Sadek Elgazar)';
export const APP_LICENSE = 'Proprietary - All Rights Reserved';

// Clipboard Configuration
export const CLIPBOARD = {
  POLL_INTERVAL_MS: 1000, // How often to check clipboard (milliseconds)
  MAX_HISTORY_ITEMS: 1000, // Maximum items to store in history
  MAX_ITEM_SIZE_BYTES: 1024 * 1024, // 1MB max per clipboard item
  AUTO_CLEAR_SENSITIVE_MINUTES: 5, // Auto-delete sensitive data after 5 minutes
  TRUNCATE_PREVIEW_LENGTH: 200, // Character limit for preview
  SUPPORTED_TYPES: ['text', 'html', 'rtf', 'image'] as const,
} as const;

// AI Engine Configuration
export const AI = {
  LOCAL_MODEL_ENABLED: true,
  LOCAL_MODEL_PATH: 'models/clipboard-ai',
  CLOUD_API_ENDPOINT: 'https://api.knoux.ai/v1/analyze',
  MAX_CONTEXT_LENGTH: 4000, // Characters for AI context
  ANALYSIS_TIMEOUT_MS: 3000, // Timeout for AI operations
  CONFIDENCE_THRESHOLD: 0.7, // Minimum confidence for AI classification
  CACHE_DURATION_MINUTES: 60, // Cache AI results for 60 minutes
} as const;

// Content Classification Types
export const CONTENT_TYPES = {
  CODE: {
    JAVASCRIPT: 'javascript',
    TYPESCRIPT: 'typescript',
    PYTHON: 'python',
    POWERSHELL: 'powershell',
    BASH: 'bash',
    JSON: 'json',
    YAML: 'yaml',
    XML: 'xml',
    HTML: 'html',
    CSS: 'css',
    SQL: 'sql',
    MARKDOWN: 'markdown',
  },
  TEXT: {
    PLAIN: 'plain',
    EMAIL: 'email',
    URL: 'url',
    PROMPT: 'prompt',
    NOTE: 'note',
    DOCUMENT: 'document',
  },
  SENSITIVE: {
    API_KEY: 'api_key',
    PASSWORD: 'password',
    TOKEN: 'token',
    CREDIT_CARD: 'credit_card',
    PRIVATE_KEY: 'private_key',
  },
  MEDIA: {
    IMAGE: 'image',
    FILE_PATH: 'file_path',
  },
} as const;

// Security Constants
export const SECURITY = {
  ENCRYPTION_ALGORITHM: 'AES-GCM',
  KEY_DERIVATION_ITERATIONS: 100000,
  SALT_LENGTH: 16,
  IV_LENGTH: 12,
  TAG_LENGTH: 16,
  SENSITIVE_PATTERNS: {
    API_KEY: /(?:api[_-]?key|apikey)[\s:=]+['"]?([a-zA-Z0-9_\-]{20,})['"]?/i,
    PASSWORD: /(?:password|passwd|pwd)[\s:=]+['"]?([^\s'"]+)['"]?/i,
    JWT_TOKEN: /eyJ[a-zA-Z0-9_-]+\.eyJ[a-zA-Z0-9_-]+\.[a-zA-Z0-9_-]+/,
    CREDIT_CARD: /\b(?:\d[ -]*?){13,16}\b/,
  },
} as const;

// Storage Configuration
export const STORAGE = {
  DATABASE_NAME: 'knoux-clipboard.db',
  DATABASE_VERSION: 1,
  HISTORY_TABLE: 'clipboard_history',
  SETTINGS_TABLE: 'application_settings',
  TAGS_TABLE: 'content_tags',
  AI_CACHE_TABLE: 'ai_analysis_cache',
  MAX_DB_SIZE_MB: 100,
  BACKUP_INTERVAL_HOURS: 24,
} as const;

// UI Constants
export const UI = {
  THEMES: {
    DARK: 'dark',
    LIGHT: 'light',
    SYSTEM: 'system',
  } as const,
  DEFAULT_THEME: 'dark' as const,
  
  HOTKEYS: {
    TOGGLE_WINDOW: 'Ctrl+Shift+K',
    QUICK_SEARCH: 'Ctrl+Shift+Space',
    CLEAR_CLIPBOARD: 'Ctrl+Shift+C',
    AI_ANALYZE: 'Ctrl+Shift+A',
    HISTORY_PREV: 'Ctrl+Shift+Up',
    HISTORY_NEXT: 'Ctrl+Shift+Down',
  } as const,
  
  WINDOW: {
    DEFAULT_WIDTH: 800,
    DEFAULT_HEIGHT: 600,
    MIN_WIDTH: 400,
    MIN_HEIGHT: 300,
    MAX_WIDTH: 1200,
    MAX_HEIGHT: 900,
  } as const,
  
  ANIMATIONS: {
    DURATION_FAST_MS: 150,
    DURATION_NORMAL_MS: 300,
    DURATION_SLOW_MS: 500,
  } as const,
} as const;

// IPC Channel Names (Main <-> Renderer Communication)
export const IPC_CHANNELS = {
  // From Renderer to Main
  CLIPBOARD: {
    GET_HISTORY: 'clipboard:get-history',
    ADD_ITEM: 'clipboard:add-item',
    DELETE_ITEM: 'clipboard:delete-item',
    UPDATE_ITEM: 'clipboard:update-item',
    CLEAR_HISTORY: 'clipboard:clear-history',
    EXPORT_DATA: 'clipboard:export-data',
    IMPORT_DATA: 'clipboard:import-data',
  },
  
  AI: {
    ANALYZE_CONTENT: 'ai:analyze-content',
    GET_SUGGESTIONS: 'ai:get-suggestions',
    CLASSIFY_CONTENT: 'ai:classify-content',
    ENHANCE_PROMPT: 'ai:enhance-prompt',
    SUMMARIZE_TEXT: 'ai:summarize-text',
  },
  
  SECURITY: {
    CHECK_SENSITIVE: 'security:check-sensitive',
    ENCRYPT_DATA: 'security:encrypt-data',
    DECRYPT_DATA: 'security:decrypt-data',
    GET_PERMISSIONS: 'security:get-permissions',
  },
  
  SETTINGS: {
    GET_ALL: 'settings:get-all',
    UPDATE: 'settings:update',
    RESET: 'settings:reset',
    EXPORT: 'settings:export',
    IMPORT: 'settings:import',
  },
  
  SYSTEM: {
    GET_PLATFORM: 'system:get-platform',
    SET_AUTOSTART: 'system:set-autostart',
    CHECK_UPDATES: 'system:check-updates',
    RESTART_APP: 'system:restart-app',
    QUIT_APP: 'system:quit-app',
  },
  
  // From Main to Renderer
  EVENTS: {
    CLIPBOARD_UPDATED: 'clipboard:updated',
    AI_ANALYSIS_COMPLETE: 'ai:analysis-complete',
    SECURITY_ALERT: 'security:alert',
    SETTINGS_CHANGED: 'settings:changed',
    SYSTEM_EVENT: 'system:event',
  },
} as const;

// Error Codes
export const ERROR_CODES = {
  CLIPBOARD: {
    ACCESS_DENIED: 'CLIPBOARD_ACCESS_DENIED',
    ITEM_TOO_LARGE: 'CLIPBOARD_ITEM_TOO_LARGE',
    HISTORY_FULL: 'CLIPBOARD_HISTORY_FULL',
    INVALID_CONTENT: 'CLIPBOARD_INVALID_CONTENT',
  },
  AI: {
    MODEL_NOT_LOADED: 'AI_MODEL_NOT_LOADED',
    ANALYSIS_TIMEOUT: 'AI_ANALYSIS_TIMEOUT',
    INSUFFICIENT_CONTEXT: 'AI_INSUFFICIENT_CONTEXT',
    API_ERROR: 'AI_API_ERROR',
  },
  SECURITY: {
    ENCRYPTION_FAILED: 'SECURITY_ENCRYPTION_FAILED',
    DECRYPTION_FAILED: 'SECURITY_DECRYPTION_FAILED',
    SENSITIVE_DETECTED: 'SECURITY_SENSITIVE_DETECTED',
    PERMISSION_DENIED: 'SECURITY_PERMISSION_DENIED',
  },
  STORAGE: {
    DB_ERROR: 'STORAGE_DB_ERROR',
    QUOTA_EXCEEDED: 'STORAGE_QUOTA_EXCEEDED',
    BACKUP_FAILED: 'STORAGE_BACKUP_FAILED',
  },
  SYSTEM: {
    PLATFORM_UNSUPPORTED: 'SYSTEM_PLATFORM_UNSUPPORTED',
    AUTOSTART_FAILED: 'SYSTEM_AUTOSTART_FAILED',
    UPDATE_ERROR: 'SYSTEM_UPDATE_ERROR',
  },
} as const;

// File Paths (Relative to app root)
export const PATHS = {
  USER_DATA: 'userData',
  LOGS: 'logs',
  DATABASE: 'database',
  MODELS: 'models',
  BACKUPS: 'backups',
  CONFIG: 'config',
  TEMP: 'temp',
} as const;

// Application Modes
export const APP_MODES = {
  DEVELOPMENT: 'development',
  PRODUCTION: 'production',
  TEST: 'test',
} as const;

// Default Settings Values
export const DEFAULT_SETTINGS = {
  clipboard: {
    enableMonitoring: true,
    maxHistoryItems: 1000,
    autoClearSensitive: true,
    autoClearMinutes: 5,
    captureImages: false,
    captureHtml: true,
  },
  ai: {
    enabled: true,
    useLocalModel: true,
    useCloudApi: false,
    apiKey: '',
    analyzeCode: true,
    analyzeText: true,
    detectSensitive: true,
    cacheResults: true,
  },
  security: {
    encryptSensitive: true,
    requirePassword: false,
    password: '',
    autoLockMinutes: 30,
    showSecurityAlerts: true,
    sandboxExternalContent: true,
  },
  ui: {
    theme: 'dark',
    fontSize: 14,
    fontFamily: 'Segoe UI, system-ui, sans-serif',
    showTrayIcon: true,
    minimizeToTray: true,
    startMinimized: false,
    animationsEnabled: true,
    hotkeysEnabled: true,
  },
  notifications: {
    enabled: true,
    sound: true,
    duration: 3000,
    position: 'bottom-right',
    showOnClipboardUpdate: false,
    showOnAiAnalysis: true,
    showOnSecurityAlert: true,
  },
} as const;

// Export all constants as a single object for easier imports
export const KNOUX_CONSTANTS = {
  APP_NAME,
  APP_VERSION,
  CLIPBOARD,
  AI,
  CONTENT_TYPES,
  SECURITY,
  STORAGE,
  UI,
  IPC_CHANNELS,
  ERROR_CODES,
  PATHS,
  APP_MODES,
  DEFAULT_SETTINGS,
} as const;

export type ContentType = typeof CONTENT_TYPES;
export type IpcChannels = typeof IPC_CHANNELS;
export type AppSettings = typeof DEFAULT_SETTINGS;
export type ThemeType = typeof UI.THEMES[keyof typeof UI.THEMES];
export type ClipboardContentType = typeof CLIPBOARD.SUPPORTED_TYPES[number];
